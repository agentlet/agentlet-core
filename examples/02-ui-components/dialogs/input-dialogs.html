<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Input Dialogs - Agentlet Core Example</title>
    <link rel="icon" type="image/x-icon" href="../../../resources/favicons/favicon.ico">
    <link rel="stylesheet" href="../../shared/examples.css">
    <link rel="stylesheet" href="../../shared/two-column-layout.css">
</head>
<body>
    <div class="container">
        <div class="two-column-container">
            <!-- Left Column: Content and Controls -->
            <div class="left-column">
                <div class="nav-breadcrumb">
                    <a href="../../">Examples</a> â†’ <a href="../">02-ui-components</a> â†’ dialogs â†’ input-dialogs
                </div>

                <h1>ğŸ”¤ Input Dialogs - Agentlet Core</h1>
                
                <p>This example demonstrates the various types of input dialogs available in Agentlet Core, including the new <strong>Command Prompt</strong> dialog.</p>

                <div class="example-section">
                    <h3>What this example shows:</h3>
                    <ul>
                        <li>Basic input dialogs (text, password, email, textarea)</li>
                        <li><strong>NEW:</strong> Command Prompt dialogs for quick command entry</li>
                        <li>Input validation and callbacks</li>
                        <li>Custom themes and styling</li>
                        <li>Various prompt configurations</li>
                    </ul>
                </div>

                <div class="controls">
                    <h4>Initialize</h4>
                    <button onclick="initAgentlet()" id="initBtn">ğŸš€ Initialize Agentlet</button>
                </div>

                <div class="controls">
                    <h4>Basic Input Dialogs</h4>
                    <button onclick="showTextInput()" id="textBtn">ğŸ“ Text Input</button>
                    <button onclick="showPasswordInput()" id="passwordBtn">ğŸ” Password Input</button>
                    <button onclick="showEmailInput()" id="emailBtn">ğŸ“§ Email Input</button>
                    <button onclick="showTextareaInput()" id="textareaBtn">ğŸ“„ Textarea Input</button>
                </div>

                <div class="controls">
                    <h4>Command Prompt Dialogs</h4>
                    <button onclick="showBasicCommand()" id="basicCommandBtn" style="background: #28a745;">âš¡ Basic Command</button>
                    <button onclick="showQuickCommand()" id="quickCommandBtn" style="background: #17a2b8;">ğŸš€ Quick Command</button>
                    <button onclick="showLargeCommand()" id="largeCommandBtn" style="background: #ffc107; color: #212529;">ğŸ“ Large Font Command</button>
                    <button onclick="showTextareaCommand()" id="textareaCommandBtn" style="background: #6f42c1; color: white;">ğŸ“ Textarea Command</button>
                </div>

                <div class="controls">
                    <h4>Advanced Examples</h4>
                    <button onclick="showStyledCommand()" id="styledCommandBtn">ğŸ¨ Styled Command</button>
                    <button onclick="showAIPrompt()" id="aiPromptBtn">ğŸ¤– AI Prompt</button>
                    <button onclick="showFormLikeDialog()" id="formBtn">ğŸ“‹ Form-like Dialog</button>
                    <button onclick="showSequentialInputs()" id="sequentialBtn">ğŸ“š Sequential Inputs</button>
                </div>

                <div class="example-section">
                    <h3>ğŸ“œ Input Dialog API Examples:</h3>
                    <div class="code-block">
                        <h4>Basic Input Dialogs</h4>
                        <pre><code class="language-javascript">// Simple text prompt
window.agentlet.utils.Dialog.prompt('Enter your name:', '', callback);

// Password prompt
window.agentlet.utils.Dialog.promptPassword('Enter password:', callback);

// Email prompt
window.agentlet.utils.Dialog.promptEmail('Enter email:', '', callback);

// Textarea prompt
window.agentlet.utils.Dialog.promptTextarea('Enter description:', '', 6, callback);</code></pre>
                        
                        <h4>Command Prompt Dialogs (NEW)</h4>
                        <pre><code class="language-javascript">// Basic command prompt
window.agentlet.utils.Dialog.commandPrompt({
    title: 'Execute Command',
    message: 'Enter your command below:',
    placeholder: 'Type command here...',
    fontSize: '24px',
    icon: 'âš¡'
}, callback);

// Quick command (minimal UI)
window.agentlet.utils.Dialog.quickCommand('Enter command...', callback);

// Textarea command prompt
window.agentlet.utils.Dialog.commandPrompt({
    inputType: 'textarea',
    fontSize: '18px',
    placeholder: 'Multi-line command...'
}, callback);</code></pre>
                        
                        <h4>Advanced Input Dialog</h4>
                        <pre><code class="language-javascript">// Custom input dialog with options
window.agentlet.utils.Dialog.showInput({
    title: 'Custom Input',
    message: 'Please provide your input:',
    placeholder: 'Enter here...',
    defaultValue: 'default text',
    inputType: 'text',
    resizable: true
}, (result) => {
    if (result !== null) {
        console.log('User entered:', result);
    } else {
        console.log('User cancelled');
    }
});</code></pre>
                    </div>
                </div>
            </div>

            <!-- Right Column: Console and Status -->
            <div class="right-column">
                <div class="console-header">
                    <h3>ğŸ“Ÿ Console Output</h3>
                    <button onclick="clearConsole()" class="console-clear-btn">ğŸ—‘ï¸ Clear</button>
                </div>
                <div class="console-section" id="console"></div>
                
                <h3>ğŸ“Š Status</h3>
                <div class="status-section" id="status">
                    Click "Initialize Agentlet" to start the demo.
                </div>
                
                <h3>ğŸ’¬ Input Activity</h3>
                <div class="stats-section" id="inputStats">
                    <div>Dialog API available: <span id="dialogAvailable">No</span></div>
                    <div>Inputs shown: <span id="inputsShown">0</span></div>
                    <div>Responses received: <span id="responsesReceived">0</span></div>
                    <div>Last input type: <span id="lastInputType">None</span></div>
                    <div>Last result: <span id="lastResult">None</span></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Console utilities -->
    <script src="../../shared/console-utils.js"></script>

    <script>
        let inputsShown = 0;
        let responsesReceived = 0;
        let lastInputType = 'None';
        let lastResult = 'None';

        // Configure Agentlet
        window.agentletConfig = {
            debugMode: true,
            theme: 'default',
            startMinimized: true
        };

        // Update input stats display
        function updateInputStats() {
            const elements = {
                dialogAvailable: document.getElementById('dialogAvailable'),
                inputsShown: document.getElementById('inputsShown'),
                responsesReceived: document.getElementById('responsesReceived'),
                lastInputType: document.getElementById('lastInputType'),
                lastResult: document.getElementById('lastResult')
            };

            if (elements.dialogAvailable) {
                const available = !!(window.agentlet && window.agentlet.utils && window.agentlet.utils.Dialog);
                elements.dialogAvailable.textContent = available ? 'Yes' : 'No';
            }
            
            if (elements.inputsShown) {
                elements.inputsShown.textContent = inputsShown;
            }
            
            if (elements.responsesReceived) {
                elements.responsesReceived.textContent = responsesReceived;
            }
            
            if (elements.lastInputType) {
                elements.lastInputType.textContent = lastInputType;
            }
            
            if (elements.lastResult) {
                elements.lastResult.textContent = lastResult;
            }
        }

        async function initAgentlet() {
            try {
                setButtonLoading('initBtn', true);
                updateStatus('Loading Agentlet Core...', 'info');
                log('ğŸ¤– Initializing Agentlet Core...');

                if (window.agentlet) {
                    log('âš ï¸ Agentlet already loaded', 'warning');
                    updateStatus('Ready! Try the input dialog buttons above.', 'success');
                    setButtonLoading('initBtn', false);
                    updateInputStats();
                    return;
                }

                await new Promise(resolve => setTimeout(resolve, 500));

                const script = document.createElement('script');
                script.src = '../../../dist/agentlet-core.js?' + Date.now();
                
                script.onload = () => {
                    log('âœ… Agentlet Core script loaded successfully', 'success');
                    
                    if (window.AgentletCore) {
                        log('ğŸ“¦ AgentletCore is available');
                        
                        const AgentletConstructor = window.AgentletCore.default;
                        
                        if (AgentletConstructor) {
                            try {
                                log('ğŸš€ Creating AgentletCore instance...');
                                const agentletInstance = new AgentletConstructor(window.agentletConfig);
                                
                                log('âš™ï¸ Starting initialization...');
                                agentletInstance.init().then(() => {
                                    if (window.agentlet && window.agentlet.utils && window.agentlet.utils.Dialog) {
                                        log('âœ… Agentlet Core loaded with Dialog utilities', 'success');
                                        updateStatus('Ready! Try the input dialog buttons above.', 'success');
                                        updateInputStats();
                                    } else {
                                        log('âŒ Dialog utilities not available', 'error');
                                        updateStatus('Dialog utilities not available', 'error');
                                    }
                                    setButtonLoading('initBtn', false);
                                }).catch(error => {
                                    log(`âŒ Initialization failed: ${error.message}`, 'error');
                                    updateStatus('Initialization failed: ' + error.message, 'error');
                                    setButtonLoading('initBtn', false);
                                });
                                
                            } catch (error) {
                                log(`âŒ Error creating AgentletCore instance: ${error.message}`, 'error');
                                updateStatus('Error creating instance: ' + error.message, 'error');
                                setButtonLoading('initBtn', false);
                            }
                        } else {
                            log('âŒ AgentletCore constructor not available', 'error');
                            updateStatus('AgentletCore constructor not found', 'error');
                            setButtonLoading('initBtn', false);
                        }
                    } else {
                        log('âŒ AgentletCore not found in window object', 'error');
                        updateStatus('AgentletCore not found', 'error');
                        setButtonLoading('initBtn', false);
                    }
                };

                script.onerror = () => {
                    log('âŒ Failed to load Agentlet Core script', 'error');
                    updateStatus('Failed to load Agentlet Core', 'error');
                    setButtonLoading('initBtn', false);
                };

                document.head.appendChild(script);

            } catch (error) {
                log(`âŒ Error: ${error.message}`, 'error');
                updateStatus('Initialization error', 'error');
                setButtonLoading('initBtn', false);
            }
        }

        function checkDialog() {
            if (!window.agentlet || !window.agentlet.utils || !window.agentlet.utils.Dialog) {
                updateStatus('Dialog utilities not available. Initialize Agentlet first.', 'warning');
                return false;
            }
            return true;
        }

        function trackInput(type, hasCallback = false) {
            inputsShown++;
            lastInputType = type;
            updateInputStats();
            log(`ğŸ”¤ ${type} input dialog shown`, 'success');
        }

        function trackResponse(result, type = '') {
            responsesReceived++;
            lastResult = result !== null ? `"${result}"` : 'Cancelled';
            updateInputStats();
            log(`ğŸ“ ${type} response: ${result !== null ? result : 'cancelled'}`, 'success');
        }

        // =================
        // BASIC INPUT DIALOGS
        // =================

        function showTextInput() {
            if (!checkDialog()) return;

            try {
                setButtonLoading('textBtn', true);
                window.agentlet.utils.Dialog.prompt(
                    'Please enter your full name:',
                    'John Doe',
                    (result) => {
                        trackResponse(result, 'Text input');
                        if (result !== null) {
                            updateStatus(`Name entered: ${result}`, 'success');
                        } else {
                            updateStatus('Text input cancelled', 'info');
                        }
                    }
                );
                trackInput('Text');
                setTimeout(() => setButtonLoading('textBtn', false), 300);
            } catch (error) {
                log(`âŒ Error showing text input: ${error.message}`, 'error');
                setButtonLoading('textBtn', false);
            }
        }

        function showPasswordInput() {
            if (!checkDialog()) return;

            try {
                setButtonLoading('passwordBtn', true);
                window.agentlet.utils.Dialog.promptPassword(
                    'Enter your password:',
                    (result) => {
                        trackResponse(result ? '*'.repeat(result.length) : null, 'Password input');
                        if (result !== null) {
                            updateStatus(`Password entered (${result.length} characters)`, 'success');
                        } else {
                            updateStatus('Password input cancelled', 'info');
                        }
                    }
                );
                trackInput('Password');
                setTimeout(() => setButtonLoading('passwordBtn', false), 300);
            } catch (error) {
                log(`âŒ Error showing password input: ${error.message}`, 'error');
                setButtonLoading('passwordBtn', false);
            }
        }

        function showEmailInput() {
            if (!checkDialog()) return;

            try {
                setButtonLoading('emailBtn', true);
                window.agentlet.utils.Dialog.promptEmail(
                    'Enter your email address:',
                    'user@example.com',
                    (result) => {
                        trackResponse(result, 'Email input');
                        if (result !== null) {
                            const isValid = /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(result);
                            updateStatus(`Email entered: ${result} ${isValid ? 'âœ…' : 'âŒ (invalid format)'}`, isValid ? 'success' : 'warning');
                        } else {
                            updateStatus('Email input cancelled', 'info');
                        }
                    }
                );
                trackInput('Email');
                setTimeout(() => setButtonLoading('emailBtn', false), 300);
            } catch (error) {
                log(`âŒ Error showing email input: ${error.message}`, 'error');
                setButtonLoading('emailBtn', false);
            }
        }

        function showTextareaInput() {
            if (!checkDialog()) return;

            try {
                setButtonLoading('textareaBtn', true);
                window.agentlet.utils.Dialog.promptTextarea(
                    'Enter a detailed description:',
                    'This is a sample multi-line text that demonstrates\\nthe textarea functionality.\\nYou can edit this text.',
                    6,
                    (result) => {
                        trackResponse(result, 'Textarea input');
                        if (result !== null) {
                            const lineCount = result.split('\\n').length;
                            const charCount = result.length;
                            updateStatus(`Description entered: ${charCount} chars, ${lineCount} lines`, 'success');
                        } else {
                            updateStatus('Textarea input cancelled', 'info');
                        }
                    }
                );
                trackInput('Textarea');
                setTimeout(() => setButtonLoading('textareaBtn', false), 300);
            } catch (error) {
                log(`âŒ Error showing textarea input: ${error.message}`, 'error');
                setButtonLoading('textareaBtn', false);
            }
        }

        // =================
        // COMMAND PROMPT DIALOGS
        // =================

        function showBasicCommand() {
            if (!checkDialog()) return;

            try {
                setButtonLoading('basicCommandBtn', true);
                window.agentlet.utils.Dialog.commandPrompt({
                    title: 'Execute Command',
                    message: 'Enter your command below:',
                    placeholder: 'npm install, git status, etc...',
                    icon: 'âš¡',
                    fontSize: '24px'
                }, (result) => {
                    trackResponse(result, 'Basic command');
                    if (result !== null) {
                        updateStatus(`Command to execute: ${result}`, 'success');
                        log(`ğŸ’» Would execute command: ${result}`, 'info');
                    } else {
                        updateStatus('Command execution cancelled', 'info');
                    }
                });
                trackInput('Basic Command');
                setTimeout(() => setButtonLoading('basicCommandBtn', false), 300);
            } catch (error) {
                log(`âŒ Error showing basic command: ${error.message}`, 'error');
                setButtonLoading('basicCommandBtn', false);
            }
        }

        function showQuickCommand() {
            if (!checkDialog()) return;

            try {
                setButtonLoading('quickCommandBtn', true);
                window.agentlet.utils.Dialog.quickCommand(
                    'Quick command...',
                    (result) => {
                        trackResponse(result, 'Quick command');
                        if (result !== null) {
                            updateStatus(`Quick command: ${result}`, 'success');
                            log(`âš¡ Quick command: ${result}`, 'info');
                        } else {
                            updateStatus('Quick command cancelled', 'info');
                        }
                    }
                );
                trackInput('Quick Command');
                setTimeout(() => setButtonLoading('quickCommandBtn', false), 300);
            } catch (error) {
                log(`âŒ Error showing quick command: ${error.message}`, 'error');
                setButtonLoading('quickCommandBtn', false);
            }
        }

        function showLargeCommand() {
            if (!checkDialog()) return;

            try {
                setButtonLoading('largeCommandBtn', true);
                window.agentlet.utils.Dialog.commandPrompt({
                    title: 'Large Font Command',
                    message: 'This command input uses a larger font size for better visibility.',
                    placeholder: 'Enter your command here...',
                    fontSize: '32px',
                    icon: 'ğŸ“'
                }, (result) => {
                    trackResponse(result, 'Large command');
                    if (result !== null) {
                        updateStatus(`Large command: ${result}`, 'success');
                        log(`ğŸ“ Large command: ${result}`, 'info');
                    } else {
                        updateStatus('Large command cancelled', 'info');
                    }
                });
                trackInput('Large Font Command');
                setTimeout(() => setButtonLoading('largeCommandBtn', false), 300);
            } catch (error) {
                log(`âŒ Error showing large command: ${error.message}`, 'error');
                setButtonLoading('largeCommandBtn', false);
            }
        }

        function showTextareaCommand() {
            if (!checkDialog()) return;

            try {
                setButtonLoading('textareaCommandBtn', true);
                window.agentlet.utils.Dialog.commandPrompt({
                    title: 'Multi-line Command',
                    message: 'Enter a multi-line script or complex command:',
                    inputType: 'textarea',
                    placeholder: 'for file in *.txt; do\\n  echo "Processing $file"\\n  cat "$file" >> combined.txt\\ndone',
                    fontSize: '18px',
                    icon: 'ğŸ“'
                }, (result) => {
                    trackResponse(result, 'Textarea command');
                    if (result !== null) {
                        const lineCount = result.split('\\n').length;
                        updateStatus(`Multi-line command entered (${lineCount} lines)`, 'success');
                        log(`ğŸ“ Multi-line command:\\n${result}`, 'info');
                    } else {
                        updateStatus('Multi-line command cancelled', 'info');
                    }
                });
                trackInput('Textarea Command');
                setTimeout(() => setButtonLoading('textareaCommandBtn', false), 300);
            } catch (error) {
                log(`âŒ Error showing textarea command: ${error.message}`, 'error');
                setButtonLoading('textareaCommandBtn', false);
            }
        }

        // =================
        // ADVANCED EXAMPLES
        // =================

        function showStyledCommand() {
            if (!checkDialog()) return;

            try {
                setButtonLoading('styledCommandBtn', true);
                
                // Create a custom-themed dialog instance
                const StyledDialog = new window.agentlet.utils.Dialog.constructor({
                    theme: {
                        backgroundColor: '#2c3e50',
                        borderColor: '#34495e',
                        textColor: '#ecf0f1',
                        primaryColor: '#e74c3c',
                        headerBackground: 'linear-gradient(135deg, #34495e 0%, #2c3e50 100%)',
                        headerTextColor: '#ecf0f1',
                        dialogHeaderTextColor: '#ecf0f1',
                        inputBackground: '#34495e',
                        actionButtonBackground: '#95a5a6',
                        actionButtonText: '#2c3e50'
                    }
                });
                
                StyledDialog.commandPrompt({
                    title: 'Dark Theme Command',
                    message: 'This command prompt uses a custom dark theme.',
                    placeholder: 'Enter your command...',
                    fontSize: '26px',
                    icon: 'ğŸŒ™'
                }, (result) => {
                    trackResponse(result, 'Styled command');
                    if (result !== null) {
                        updateStatus(`Styled command: ${result}`, 'success');
                        log(`ğŸ¨ Styled command: ${result}`, 'info');
                    } else {
                        updateStatus('Styled command cancelled', 'info');
                    }
                });
                trackInput('Styled Command');
                setTimeout(() => setButtonLoading('styledCommandBtn', false), 300);
            } catch (error) {
                log(`âŒ Error showing styled command: ${error.message}`, 'error');
                setButtonLoading('styledCommandBtn', false);
            }
        }

        function showAIPrompt() {
            if (!checkDialog()) return;

            try {
                setButtonLoading('aiPromptBtn', true);
                window.agentlet.utils.Dialog.promptAI(
                    'Enter your AI prompt below. You can describe what you want the AI to help you with.',
                    'Analyze the following data and provide insights:\\n\\n[paste your data here]',
                    (result) => {
                        trackResponse(result, 'AI prompt');
                        if (result !== null) {
                            const wordCount = result.split(/\\s+/).length;
                            updateStatus(`AI prompt entered (${wordCount} words)`, 'success');
                            log(`ğŸ¤– AI prompt prepared:\\n${result.substring(0, 100)}${result.length > 100 ? '...' : ''}`, 'info');
                        } else {
                            updateStatus('AI prompt cancelled', 'info');
                        }
                    }
                );
                trackInput('AI Prompt');
                setTimeout(() => setButtonLoading('aiPromptBtn', false), 300);
            } catch (error) {
                log(`âŒ Error showing AI prompt: ${error.message}`, 'error');
                setButtonLoading('aiPromptBtn', false);
            }
        }

        function showFormLikeDialog() {
            if (!checkDialog()) return;

            try {
                setButtonLoading('formBtn', true);
                const formHtml = `
                    <div style="max-width: 400px; margin: 0 auto;">
                        <p style="margin-bottom: 20px; color: #666;">Please fill out the information below:</p>
                        <div style="text-align: left;">
                            <label for="contactName" style="display: block; margin-bottom: 5px; font-weight: bold;">Full Name:</label>
                            <input type="text" id="contactName" style="width: 100%; padding: 10px; margin-bottom: 15px; border: 2px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;" placeholder="Enter your full name">
                            
                            <label for="contactEmail" style="display: block; margin-bottom: 5px; font-weight: bold;">Email Address:</label>
                            <input type="email" id="contactEmail" style="width: 100%; padding: 10px; margin-bottom: 15px; border: 2px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;" placeholder="your.email@example.com">
                            
                            <label for="contactRole" style="display: block; margin-bottom: 5px; font-weight: bold;">Role:</label>
                            <select id="contactRole" style="width: 100%; padding: 10px; margin-bottom: 15px; border: 2px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                                <option value="">Select your role</option>
                                <option value="developer">Developer</option>
                                <option value="designer">Designer</option>
                                <option value="manager">Manager</option>
                                <option value="other">Other</option>
                            </select>
                            
                            <label for="contactMessage" style="display: block; margin-bottom: 5px; font-weight: bold;">Message:</label>
                            <textarea id="contactMessage" style="width: 100%; padding: 10px; margin-bottom: 15px; border: 2px solid #ddd; border-radius: 6px; font-size: 14px; height: 80px; resize: vertical; box-sizing: border-box;" placeholder="Tell us about your project or question..."></textarea>
                        </div>
                    </div>
                `;

                window.agentlet.utils.Dialog.show('info', {
                    title: 'Contact Form',
                    message: formHtml,
                    icon: 'ğŸ“‹',
                    allowHtml: true,
                    buttons: [
                        { text: 'Cancel', value: 'cancel', secondary: true },
                        { text: 'Submit', value: 'submit', primary: true }
                    ]
                }, (result) => {
                    trackResponse(result, 'Form dialog');
                    if (result === 'submit') {
                        const name = document.getElementById('contactName')?.value || '';
                        const email = document.getElementById('contactEmail')?.value || '';
                        const role = document.getElementById('contactRole')?.value || '';
                        const message = document.getElementById('contactMessage')?.value || '';

                        log(`ğŸ“‹ Form submitted:`);
                        log(`   Name: ${name}`);
                        log(`   Email: ${email}`);
                        log(`   Role: ${role}`);
                        log(`   Message: ${message}`);

                        if (name && email && message) {
                            updateStatus(`Form submitted by ${name}`, 'success');
                        } else {
                            updateStatus('Form submitted with missing fields', 'warning');
                        }
                    } else {
                        updateStatus('Form submission cancelled', 'info');
                    }
                });

                trackInput('Form Dialog');
                setTimeout(() => setButtonLoading('formBtn', false), 300);
            } catch (error) {
                log(`âŒ Error showing form dialog: ${error.message}`, 'error');
                setButtonLoading('formBtn', false);
            }
        }

        function showSequentialInputs() {
            if (!checkDialog()) return;

            try {
                setButtonLoading('sequentialBtn', true);

                // First input: Name
                window.agentlet.utils.Dialog.prompt(
                    'Step 1 of 3: Please enter your name:',
                    '',
                    (name) => {
                        trackResponse(name, 'Sequential step 1');
                        if (name !== null && name.trim()) {
                            // Second input: Email
                            setTimeout(() => {
                                window.agentlet.utils.Dialog.promptEmail(
                                    `Step 2 of 3: Hi ${name}! Please enter your email:`,
                                    '',
                                    (email) => {
                                        trackResponse(email, 'Sequential step 2');
                                        if (email !== null && email.trim()) {
                                            // Third input: Command
                                            setTimeout(() => {
                                                window.agentlet.utils.Dialog.commandPrompt({
                                                    title: 'Step 3 of 3: Final Command',
                                                    message: `Great ${name}! Now enter a command to complete the process:`,
                                                    placeholder: 'Enter your final command...',
                                                    fontSize: '20px',
                                                    icon: 'ğŸ¯'
                                                }, (command) => {
                                                    trackResponse(command, 'Sequential step 3');
                                                    if (command !== null) {
                                                        log(`ğŸ“š Sequential input completed:`, 'success');
                                                        log(`   Name: ${name}`);
                                                        log(`   Email: ${email}`);
                                                        log(`   Command: ${command}`);
                                                        updateStatus(`Sequential input completed for ${name}`, 'success');
                                                    } else {
                                                        log(`ğŸ“š Sequential input cancelled at step 3`, 'info');
                                                        updateStatus('Sequential input cancelled at final step', 'info');
                                                    }
                                                });
                                            }, 100);
                                        } else {
                                            log(`ğŸ“š Sequential input cancelled at step 2`, 'info');
                                            updateStatus('Sequential input cancelled at email step', 'info');
                                        }
                                    }
                                );
                            }, 100);
                        } else {
                            log(`ğŸ“š Sequential input cancelled at step 1`, 'info');
                            updateStatus('Sequential input cancelled at name step', 'info');
                        }
                    }
                );

                trackInput('Sequential Input');
                setTimeout(() => setButtonLoading('sequentialBtn', false), 300);
            } catch (error) {
                log(`âŒ Error showing sequential inputs: ${error.message}`, 'error');
                setButtonLoading('sequentialBtn', false);
            }
        }

        // Initialize page
        document.addEventListener('DOMContentLoaded', () => {
            log('ğŸ“„ Input dialogs example loaded', 'success');
            updateStatus('Ready for Agentlet initialization', 'info');
            updateInputStats();
        });

        // Update input stats periodically
        setInterval(updateInputStats, 2000);
    </script>
</body>
</html>